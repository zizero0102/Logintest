{"version":3,"file":"js/naverlogin.a138f55f.js","mappings":"wLAAAA,IAAA,EAEaC,GAAG,gB,0CADZC,EAAAA,EAAAA,IAGM,YAF4BC,EAAAC,aAFtCC,EAAAA,EAAAA,IAAA,SAEiD,WAAzCH,EAAAA,EAAAA,IAAiD,MAAjDI,IAC4CH,EAAAC,cAAW,WAAvDF,EAAAA,EAAAA,IAAsE,UAH9EF,IAAA,EAGgBO,KAAK,SAAUC,QAAKC,EAAA,KAAAA,EAAA,OAAAC,IAAEC,EAAAC,QAAAD,EAAAC,UAAAF,KAA2B,UAHjEL,EAAAA,EAAAA,IAAA,Q,CAUA,OACIQ,IAAAA,GACI,MAAO,CACHC,WAAY,KACZV,YAAa,KAErB,EACAW,OAAAA,GACIC,KAAKC,4BACT,EACAC,QAAS,CACLD,0BAAAA,GACI,IACID,KAAKF,WAAa,IAAIK,OAAOC,MAAMC,iBAAiB,CAChDC,SAAU,uBACVC,YAAa,mCACbC,SAAS,EACTC,YAAa,CAAEC,MAAO,QAASnB,KAAM,EAAGoB,OAAQ,MAEpDX,KAAKF,WAAWc,OAEhBZ,KAAKF,WAAWe,gBAAgBC,IACxBA,EACAd,KAAKe,mBAELC,QAAQC,IAAI,kBAChB,GAER,CAAE,MAAOC,GACLF,QAAQE,MAAM,uBAAwBA,EAC1C,CACJ,EACAH,gBAAAA,GACSf,KAAKF,WAIVE,KAAKF,WAAWe,gBAAgBC,IAC5B,GAAIA,EAAQ,CACR,MAAMK,EAAQnB,KAAKF,WAAWsB,KAAKC,WACnC,IAAKF,EAGD,OAFAG,MAAM,oCACNtB,KAAKF,WAAWyB,WAGpBvB,KAAKZ,YAAcY,KAAKF,WAAWV,YAAYA,YAC/C4B,QAAQC,IAAI,UAAWE,EAC3B,MACIH,QAAQC,IAAI,wBAChB,IAfAD,QAAQE,MAAM,2BAiBtB,EACAtB,MAAAA,GACI,IAAKI,KAAKZ,YAEN,YADA4B,QAAQC,IAAI,iBAIhB,MAAMO,EAAa,+HAA8HxB,KAAKZ,qCAEhJqC,EAASC,SAASC,cAAc,UACtCF,EAAOG,MAAMC,QAAU,OACvBJ,EAAOK,IAAMN,EACbE,SAASK,KAAKC,YAAYP,GAE1BzB,KAAKZ,YAAc,KAEnBY,KAAKiC,WAAU,KACXjC,KAAKC,4BAA4B,IAGrCe,QAAQC,IAAI,oBAChB,I,UC7ER,MAAMiB,GAA2B,OAAgB,EAAQ,CAAC,CAAC,SAASC,KAEpE,O","sources":["webpack://vueportable/./src/views/NaverLogin.vue","webpack://vueportable/./src/views/NaverLogin.vue?7d99"],"sourcesContent":["<template>\n    <div>\n        <div id=\"naverIdLogin\" v-if=\"!accessToken\"></div>\n        <button type=\"button\" @click=\"logout\" v-if=\"accessToken\">로그아웃</button>\n    </div>\n</template>\n\n<script>\nimport axios from 'axios';\n\nexport default {\n    data() {\n        return {\n            naverLogin: null,\n            accessToken: null\n        };\n    },\n    mounted() {\n        this.initializeNaverLoginButton();\n    },\n    methods: {\n        initializeNaverLoginButton() {\n            try {\n                this.naverLogin = new window.naver.LoginWithNaverId({\n                    clientId: 'DX8pze4CD1DdfMhJ1Nj4',\n                    callbackUrl: 'http://localhost:8080/naverlogin',\n                    isPopup: false,\n                    loginButton: { color: 'green', type: 3, height: 60 }\n                });\n                this.naverLogin.init();\n\n                this.naverLogin.getLoginStatus((status) => {\n                    if (status) {\n                        this.checkLoginStatus();\n                    } else {\n                        console.log('로그인되지 않은 상태입니다.');\n                    }\n                });\n            } catch (error) {\n                console.error('네이버 로그인 초기화 중 오류 발생:', error);\n            }\n        },\n        checkLoginStatus() {\n            if (!this.naverLogin) {\n                console.error('네이버 로그인 객체가 초기화되지 않았습니다.');\n                return;\n            }\n            this.naverLogin.getLoginStatus((status) => {\n                if (status) {\n                    const email = this.naverLogin.user.getEmail();\n                    if (!email) {\n                        alert('이메일은 필수정보입니다. 정보제공을 동의해주세요.');\n                        this.naverLogin.reprompt();\n                        return;\n                    }\n                    this.accessToken = this.naverLogin.accessToken.accessToken;\n                    console.log('로그인 성공!', email);\n                } else {\n                    console.log('callback 처리에 실패하였습니다.');\n                }\n            });\n        },\n        logout() {\n            if (!this.accessToken) {\n                console.log('로그인 상태가 아닙니다.');\n                return;\n            }\n\n            const logoutUrl = `https://nid.naver.com/oauth2.0/token?grant_type=delete&client_id=DX8pze4CD1DdfMhJ1Nj4&client_secret=yNLVACy5GI&access_token=${this.accessToken}&service_provider=NAVER`;\n\n            const iframe = document.createElement('iframe');\n            iframe.style.display = 'none';\n            iframe.src = logoutUrl;\n            document.body.appendChild(iframe);\n\n            this.accessToken = null;\n\n            this.$nextTick(() => {\n                this.initializeNaverLoginButton();\n            });\n\n            console.log('로그아웃 요청이 실행되었습니다.');\n        }\n    }\n};\n</script>\n","import { render } from \"./NaverLogin.vue?vue&type=template&id=58bc934c\"\nimport script from \"./NaverLogin.vue?vue&type=script&lang=js\"\nexport * from \"./NaverLogin.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"../../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"names":["key","id","_createElementBlock","$data","accessToken","_createCommentVNode","_hoisted_1","type","onClick","_cache","args","$options","logout","data","naverLogin","mounted","this","initializeNaverLoginButton","methods","window","naver","LoginWithNaverId","clientId","callbackUrl","isPopup","loginButton","color","height","init","getLoginStatus","status","checkLoginStatus","console","log","error","email","user","getEmail","alert","reprompt","logoutUrl","iframe","document","createElement","style","display","src","body","appendChild","$nextTick","__exports__","render"],"sourceRoot":""}