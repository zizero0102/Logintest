"use strict";(self["webpackChunkvueportable"]=self["webpackChunkvueportable"]||[]).push([[62],{6509:function(e,n,t){t.r(n),t.d(n,{default:function(){return l}});var o=t(6768);const i={key:0,id:"naverIdLogin"};function s(e,n,t,s,c,a){return(0,o.uX)(),(0,o.CE)("div",null,[c.accessToken?(0,o.Q3)("",!0):((0,o.uX)(),(0,o.CE)("div",i)),c.accessToken?((0,o.uX)(),(0,o.CE)("button",{key:1,type:"button",onClick:n[0]||(n[0]=(...e)=>a.logout&&a.logout(...e))},"로그아웃")):(0,o.Q3)("",!0)])}var c={data(){return{naverLogin:null,accessToken:null}},mounted(){this.initializeNaverLoginButton()},methods:{initializeNaverLoginButton(){try{this.naverLogin=new window.naver.LoginWithNaverId({clientId:"DX8pze4CD1DdfMhJ1Nj4",callbackUrl:"http://localhost:8080/naverlogin",isPopup:!1,loginButton:{color:"green",type:3,height:60}}),this.naverLogin.init(),this.naverLogin.getLoginStatus((e=>{e?this.checkLoginStatus():console.log("로그인되지 않은 상태입니다.")}))}catch(e){console.error("네이버 로그인 초기화 중 오류 발생:",e)}},checkLoginStatus(){this.naverLogin?this.naverLogin.getLoginStatus((e=>{if(e){const e=this.naverLogin.user.getEmail();if(!e)return alert("이메일은 필수정보입니다. 정보제공을 동의해주세요."),void this.naverLogin.reprompt();this.accessToken=this.naverLogin.accessToken.accessToken,console.log("로그인 성공!",e)}else console.log("callback 처리에 실패하였습니다.")})):console.error("네이버 로그인 객체가 초기화되지 않았습니다.")},logout(){if(!this.accessToken)return void console.log("로그인 상태가 아닙니다.");const e=`https://nid.naver.com/oauth2.0/token?grant_type=delete&client_id=DX8pze4CD1DdfMhJ1Nj4&client_secret=yNLVACy5GI&access_token=${this.accessToken}&service_provider=NAVER`,n=document.createElement("iframe");n.style.display="none",n.src=e,document.body.appendChild(n),this.accessToken=null,this.$nextTick((()=>{this.initializeNaverLoginButton()})),console.log("로그아웃 요청이 실행되었습니다.")}}},a=t(1241);const r=(0,a.A)(c,[["render",s]]);var l=r}}]);
//# sourceMappingURL=naverlogin.a138f55f.js.map